{"version":3,"file":"AdminInviteCodesPage-DWzlldIt.js","sources":["../../src/pages/AdminInviteCodesPage.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Turnstile } from '@marsidev/react-turnstile';\nimport { useAuthStore } from '@/stores/auth-store';\nimport { useSettingsStore } from '@/stores/settings-store';\nimport { useTranslation } from '@/i18n';\nimport { api } from '@/lib/api';\nimport { useToast } from '@/hooks/useToast';\nimport { useConfirmDialog } from '@/hooks/useConfirmDialog';\nimport { Toast } from '@/components/Toast';\n\ninterface InviteCode {\n  id: string;\n  code: string;\n  max_uses: number;\n  used_count: number;\n  expires_at: number | null;\n  created_at: number;\n  updated_at: number;\n  is_active: number;\n  note: string;\n}\n\ninterface User {\n  id: string;\n  email: string;\n  created_at: number;\n  updated_at: number;\n  notes_count: number;\n  passwords_count: number;\n  devices_count: number;\n}\n\nexport default function AdminInviteCodesPage() {\n  const navigate = useNavigate();\n  const { token, user } = useAuthStore();\n  const { theme, setTheme, language, setLanguage } = useSettingsStore();\n  const { t } = useTranslation();\n\n  // 获取实际使用的主题\n  const getResolvedTheme = () => {\n    return theme;\n  };\n\n  // 管理员验证状态（从 sessionStorage 恢复）\n  const [isAdmin, setIsAdmin] = useState(() => {\n    try {\n      return sessionStorage.getItem('anynote-admin-verified') === 'true';\n    } catch {\n      return false;\n    }\n  });\n  const [adminPassword, setAdminPassword] = useState(() => {\n    try {\n      return sessionStorage.getItem('anynote-admin-password') || '';\n    } catch {\n      return '';\n    }\n  });\n  const [verifyError, setVerifyError] = useState('');\n  const [verifying, setVerifying] = useState(false);\n  const [turnstileToken, setTurnstileToken] = useState<string>('');\n  const [turnstileKey, setTurnstileKey] = useState(0); // 用于强制重新加载 Turnstile\n\n  // 防暴力破解：后端速率限制（不再使用前端 localStorage）\n  const [isLocked, setIsLocked] = useState(false);\n\n  // 邀请码列表\n  const [inviteCodes, setInviteCodes] = useState<InviteCode[]>([]);\n  const [loading, setLoading] = useState(false);\n  const { toast, showToast, hideToast } = useToast(); // Toast 通知（右上角浮动）\n  const { confirm: showConfirm, ConfirmDialog } = useConfirmDialog();\n\n  // 用户列表\n  const [users, setUsers] = useState<User[]>([]);\n  const [loadingUsers, setLoadingUsers] = useState(false);\n  const [deletingUsers, setDeletingUsers] = useState<Set<string>>(new Set()); // 跟踪正在删除的用户\n\n  // 数据统计\n  const [stats, setStats] = useState<{\n    total: { users: number; notes: number; passwords: number; sessions: number; invite_codes: number };\n    active: { sessions: number; invite_codes: number };\n    expired: { sessions: number; invite_codes: number };\n    inactive: { sessions: number };\n    storage?: {\n      actualUsageMB: number;\n      actualUsageBytes: number;\n      limitMB: number;\n      usagePercent: number;\n      status: 'normal' | 'warning' | 'critical';\n    };\n    quota?: {\n      notes: { softLimit: number; hardLimit: number; usersNearSoftLimit: number; usersAtSoftLimit: number; usersAtHardLimit: number };\n      passwords: { softLimit: number; hardLimit: number; usersNearSoftLimit: number; usersAtSoftLimit: number; usersAtHardLimit: number };\n    };\n  } | null>(null);\n  const [loadingStats, setLoadingStats] = useState(false);\n  const [cleaningData, setCleaningData] = useState(false);\n\n  // 创建/编辑对话框\n  const [showDialog, setShowDialog] = useState(false);\n  const [editingCode, setEditingCode] = useState<InviteCode | null>(null);\n  const [formData, setFormData] = useState({\n    code: '',\n    max_uses: 1, // 默认1次\n    expires_days: 1, // 默认1天\n    note: '',\n  });\n\n  // 生成随机邀请码（格式：AnyNote-XXXXX-XXXXX-XXXXX-XXXXX，混合大小写，移除易混淆字符）\n  const generateCode = () => {\n    // 混合大小写字符集，移除易混淆字符（0,O,o,1,I,l,2,Z,z,5,S,s,8,B）\n    const chars = 'ACDEFGHJKLMNPQRTUVWXYacdefghjkmnpqrtuvwxy34679';\n    const segments = [];\n\n    // 生成4段，每段5个字符\n    for (let i = 0; i < 4; i++) {\n      let segment = '';\n      for (let j = 0; j < 5; j++) {\n        segment += chars.charAt(Math.floor(Math.random() * chars.length));\n      }\n      segments.push(segment);\n    }\n\n    // 格式：AnyNote-XXXXX-XXXXX-XXXXX-XXXXX（刚好32位）\n    const code = `AnyNote-${segments.join('-')}`;\n    setFormData({ ...formData, code });\n  };\n\n  // 验证管理员密码\n  const handleVerifyAdmin = async () => {\n    // 验证 Turnstile token\n    if (!turnstileToken) {\n      setVerifyError(language === 'zh-CN' ? '请完成人机验证' : 'Please complete verification');\n      return;\n    }\n\n    setVerifyError('');\n    setVerifying(true);\n\n    try {\n      api.setToken(token!);\n      const response = await api.verifyAdminPassword(adminPassword);\n\n      if (response.success) {\n        setIsAdmin(true);\n        setIsLocked(false);\n        // 保存验证状态和密码到 sessionStorage（仅当前标签页有效）\n        try {\n          sessionStorage.setItem('anynote-admin-verified', 'true');\n          sessionStorage.setItem('anynote-admin-password', adminPassword);\n        } catch (error) {\n          console.warn('Failed to save admin verification state:', error);\n        }\n        loadInviteCodes();\n        loadUsers();\n        loadStats();\n      } else {\n        // 后端返回错误\n        setVerifyError(response.error?.message || (language === 'zh-CN' ? '验证失败' : 'Verification failed'));\n\n        // 检查是否被封禁\n        if (response.error?.code === 'ADMIN_BANNED') {\n          setIsLocked(true);\n        }\n\n        // 密码错误后重新加载 Turnstile\n        setTurnstileToken('');\n        setTurnstileKey((prev) => prev + 1);\n      }\n    } catch (error: any) {\n      setVerifyError(error.message || (language === 'zh-CN' ? '验证失败' : 'Verification failed'));\n      // 密码错误后重新加载 Turnstile\n      setTurnstileToken('');\n      setTurnstileKey((prev) => prev + 1);\n    } finally {\n      setVerifying(false);\n    }\n  };\n\n  // 加载邀请码列表\n  const loadInviteCodes = async () => {\n    setLoading(true);\n    try {\n      api.setToken(token!);\n      const response = await api.getInviteCodes();\n      if (response.success && response.data) {\n        setInviteCodes(response.data.invite_codes);\n      }\n    } catch (error: any) {\n      showToast(error.message || (language === 'zh-CN' ? '加载失败' : 'Load failed'), { variant: 'error' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 加载用户列表\n  const loadUsers = async () => {\n    setLoadingUsers(true);\n    try {\n      api.setToken(token!);\n      const response = await api.getUsers();\n      if (response.success && response.data) {\n        setUsers(response.data.users);\n      }\n    } catch (error: any) {\n      showToast(error.message || t.admin.users.loadFailed, { variant: 'error' });\n    } finally {\n      setLoadingUsers(false);\n    }\n  };\n\n  // 加载数据统计\n  const loadStats = async () => {\n    setLoadingStats(true);\n    try {\n      api.setToken(token!);\n      const response = await api.getAdminStats(adminPassword);\n      if (response.success && response.data) {\n        setStats(response.data);\n      }\n    } catch (error: any) {\n      showToast(error.message || (language === 'zh-CN' ? '加载统计数据失败' : 'Load statistics failed'), { variant: 'error' });\n    } finally {\n      setLoadingStats(false);\n    }\n  };\n\n  // 手动清理过期数据\n  const handleCleanup = async () => {\n    const confirmed = await showConfirm({\n      title: t.admin.confirmations.cleanupTitle,\n      description: t.admin.confirmations.cleanupDescription,\n      confirmLabel: t.admin.confirmations.cleanupConfirm,\n      cancelLabel: t.common.cancel,\n      variant: 'danger',\n    });\n\n    if (!confirmed) {\n      return;\n    }\n\n    setCleaningData(true);\n    try {\n      api.setToken(token!);\n      const response = await api.cleanupData(adminPassword);\n\n      if (response.success) {\n        showToast(t.admin.notifications.cleanupSuccess, { variant: 'success' });\n\n        // 刷新统计数据\n        loadStats();\n        loadInviteCodes();\n      } else {\n        showToast(response.error?.message || (language === 'zh-CN' ? '清理失败' : 'Cleanup failed'), { variant: 'error' });\n      }\n    } catch (error: any) {\n      showToast(error.message || (language === 'zh-CN' ? '清理失败' : 'Cleanup failed'), { variant: 'error' });\n    } finally {\n      setCleaningData(false);\n    }\n  };\n\n  // 删除用户\n  const handleDeleteUser = async (userId: string, userEmail: string) => {\n    // 🚨 安全检查：禁止删除自己\n    if (user?.email === userEmail) {\n      showToast(t.admin.confirmations.cannotDeleteSelf, { variant: 'error' });\n      return;\n    }\n\n    const confirmed = await showConfirm({\n      title: t.admin.confirmations.deleteUserTitle,\n      description: t.admin.confirmations.deleteUserDescription.replace('{email}', userEmail),\n      confirmLabel: t.common.delete,\n      cancelLabel: t.common.cancel,\n      variant: 'danger',\n    });\n\n    if (!confirmed) {\n      return;\n    }\n\n    // 标记为正在删除\n    setDeletingUsers((prev) => new Set(prev).add(userId));\n\n    try {\n      api.setToken(token!);\n      const response = await api.deleteUser(userId);\n\n      if (response.success) {\n        showToast(language === 'zh-CN' ? '用户已删除！' : 'User deleted successfully!', { variant: 'success' });\n        loadUsers(); // 重新加载用户列表\n      } else {\n        showToast(response.error?.message || (language === 'zh-CN' ? '删除失败' : 'Delete failed'), { variant: 'error' });\n      }\n    } catch (error: any) {\n      showToast(error.message || (language === 'zh-CN' ? '删除失败' : 'Delete failed'), { variant: 'error' });\n    } finally {\n      // 移除删除标记\n      setDeletingUsers((prev) => {\n        const newSet = new Set(prev);\n        newSet.delete(userId);\n        return newSet;\n      });\n    }\n  };\n\n  // 创建邀请码\n  const handleCreate = async () => {\n    try {\n      const expires_at = formData.expires_days > 0\n        ? Date.now() + formData.expires_days * 24 * 60 * 60 * 1000\n        : null;\n\n      api.setToken(token!);\n      const response = await api.createInviteCode({\n        code: formData.code,\n        max_uses: formData.max_uses,\n        expires_at,\n      });\n\n      if (response.success) {\n        showToast(language === 'zh-CN' ? '创建成功！' : 'Created successfully!', { variant: 'success' });\n        setShowDialog(false);\n        resetForm();\n        loadInviteCodes();\n      } else {\n        showToast(response.error?.message || (language === 'zh-CN' ? '创建失败' : 'Create failed'), { variant: 'error' });\n      }\n    } catch (error: any) {\n      showToast(error.message || (language === 'zh-CN' ? '创建失败' : 'Create failed'), { variant: 'error' });\n    }\n  };\n\n  // 更新邀请码\n  const handleUpdate = async () => {\n    if (!editingCode) return;\n\n    try {\n      api.setToken(token!);\n      const response = await api.updateInviteCode(editingCode.id, {\n        max_uses: formData.max_uses,\n        is_active: editingCode.is_active,\n      });\n\n      if (response.success) {\n        showToast(language === 'zh-CN' ? '更新成功！' : 'Updated successfully!', { variant: 'success' });\n        setShowDialog(false);\n        resetForm();\n        loadInviteCodes();\n      } else {\n        showToast(response.error?.message || (language === 'zh-CN' ? '更新失败' : 'Update failed'), { variant: 'error' });\n      }\n    } catch (error: any) {\n      showToast(error.message || (language === 'zh-CN' ? '更新失败' : 'Update failed'), { variant: 'error' });\n    }\n  };\n\n  // 删除邀请码\n  const handleDelete = async (id: string) => {\n    const confirmed = await showConfirm({\n      title: t.admin.confirmations.deleteInviteTitle,\n      description: t.admin.confirmations.deleteInviteDescription,\n      confirmLabel: t.common.delete,\n      cancelLabel: t.common.cancel,\n      variant: 'danger',\n    });\n\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      api.setToken(token!);\n      const response = await api.deleteInviteCode(id);\n\n      if (response.success) {\n        showToast(language === 'zh-CN' ? '删除成功！' : 'Deleted successfully!', { variant: 'success' });\n        loadInviteCodes();\n      } else {\n        showToast(response.error?.message || (language === 'zh-CN' ? '删除失败' : 'Delete failed'), { variant: 'error' });\n      }\n    } catch (error: any) {\n      showToast(error.message || (language === 'zh-CN' ? '删除失败' : 'Delete failed'), { variant: 'error' });\n    }\n  };\n\n  // 切换启用/禁用\n  const handleToggleActive = async (code: InviteCode) => {\n    try {\n      api.setToken(token!);\n      const response = await api.updateInviteCode(code.id, {\n        is_active: code.is_active === 1 ? 0 : 1,\n      });\n\n      if (response.success) {\n        loadInviteCodes();\n      }\n    } catch (error: any) {\n      showToast(error.message || (language === 'zh-CN' ? '更新失败' : 'Update failed'), { variant: 'error' });\n    }\n  };\n\n  // 重置表单\n  const resetForm = () => {\n    setFormData({ code: '', max_uses: 1, expires_days: 1, note: '' });\n    setEditingCode(null);\n  };\n\n  // 格式化时间\n  const formatDate = (timestamp: number) => {\n    return new Date(timestamp).toLocaleDateString(language === 'zh-CN' ? 'zh-CN' : 'en-US');\n  };\n\n  // 检查是否过期\n  const isExpired = (expires_at: number | null) => {\n    return expires_at && expires_at < Date.now();\n  };\n\n  // 如果未登录，跳转到登录页\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n    }\n  }, [token, navigate]);\n\n  // 如果已验证（从 sessionStorage 恢复），自动加载数据\n  useEffect(() => {\n    if (isAdmin && token) {\n      loadInviteCodes();\n      loadUsers();\n      loadStats();\n    }\n  }, []); // 仅在组件挂载时执行一次\n\n  // 自动同步主题和语言设置（从 settings store 读取，无需手动操作）\n  // 主题和语言已通过 useSettingsStore 自动同步\n\n  // 管理员验证界面\n  if (!isAdmin) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-blue-900/20 px-4\">\n        <div className=\"max-w-md w-full\">\n          <div className=\"bg-white/70 dark:bg-gray-800/70 backdrop-blur-2xl rounded-2xl p-6 border border-white/60 dark:border-white/20 shadow-[0_30px_80px_-35px_rgba(37,99,235,0.4)] dark:shadow-[0_30px_80px_-35px_rgba(96,165,250,0.5)]\">\n            <div className=\"flex items-center gap-3 mb-6\">\n              <img src=\"/logo.svg\" alt=\"AnyNote\" className=\"w-12 h-12\" />\n              <div>\n                <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                  {language === 'zh-CN' ? '管理员验证' : 'Admin Verification'}\n                </h2>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  {language === 'zh-CN' ? '邀请码管理系统' : 'Invite Code Management'}\n                </p>\n              </div>\n            </div>\n\n            {verifyError && (\n              <div className=\"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-800 rounded-lg\">\n                <p className=\"text-sm text-red-800 dark:text-red-200\">{verifyError}</p>\n              </div>\n            )}\n\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                {language === 'zh-CN' ? '管理员密码' : 'Admin Password'}\n              </label>\n              <div className=\"relative\">\n                <input\n                  type=\"password\"\n                  value={adminPassword}\n                  onChange={(e) => {\n                    setAdminPassword(e.target.value);\n                    if (!isLocked) setVerifyError('');\n                  }}\n                  onKeyDown={(e) => e.key === 'Enter' && !isLocked && turnstileToken && handleVerifyAdmin()}\n                  disabled={isLocked}\n                  minLength={12}\n                  maxLength={32}\n                  placeholder={language === 'zh-CN' ? '请输入管理员密码' : 'Enter admin password'}\n                  className=\"w-full px-4 py-2 pr-16 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                />\n                <span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-400 dark:text-gray-500\">\n                  {adminPassword.length}/32\n                </span>\n              </div>\n            </div>\n\n            {/* Cloudflare Turnstile 人机验证 */}\n            <div className=\"mb-6\">\n              <Turnstile\n                key={turnstileKey}\n                siteKey={import.meta.env.VITE_TURNSTILE_SITE_KEY || '1x00000000000000000000AA'}\n                onSuccess={(token) => setTurnstileToken(token)}\n                onError={() => setTurnstileToken('')}\n                onExpire={() => setTurnstileToken('')}\n                options={{\n                  theme: getResolvedTheme(),\n                  size: 'flexible',\n                  language: language === 'zh-CN' ? 'zh-CN' : 'en',\n                }}\n              />\n            </div>\n\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => {\n                  // 清除 sessionStorage 中的管理员验证状态和密码\n                  try {\n                    sessionStorage.removeItem('anynote-admin-verified');\n                    sessionStorage.removeItem('anynote-admin-password');\n                  } catch (error) {\n                    console.warn('Failed to clear admin state:', error);\n                  }\n                  navigate('/notes');\n                }}\n                className=\"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\n              >\n                {language === 'zh-CN' ? '返回' : 'Back'}\n              </button>\n              <button\n                onClick={handleVerifyAdmin}\n                disabled={!adminPassword || !turnstileToken || verifying || isLocked}\n                className=\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\n              >\n                {isLocked\n                  ? (language === 'zh-CN' ? '已锁定' : 'Locked')\n                  : verifying\n                  ? (language === 'zh-CN' ? '验证中...' : 'Verifying...')\n                  : (language === 'zh-CN' ? '验证' : 'Verify')}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 邀请码管理界面\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-blue-900/20\">\n      {/* Header */}\n      <header className=\"bg-white/80 dark:bg-gray-800/50 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <img src=\"/logo.svg\" alt=\"AnyNote\" className=\"w-8 h-8\" />\n            {/* 标题文本作为返回按钮 */}\n            <button\n              onClick={() => {\n                // 清除 sessionStorage 中的管理员验证状态和密码\n                try {\n                  sessionStorage.removeItem('anynote-admin-verified');\n                  sessionStorage.removeItem('anynote-admin-password');\n                } catch (error) {\n                  console.warn('Failed to clear admin state:', error);\n                }\n                navigate('/notes');\n              }}\n              title={language === 'zh-CN' ? '点击返回笔记' : 'Click to return to Notes'}\n            >\n              <h1 className=\"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-400 hover:from-blue-500 hover:to-blue-500 transition-all cursor-pointer\">\n                {t.admin.title}\n              </h1>\n            </button>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            {/* 清理过期数据 */}\n            <button\n              onClick={handleCleanup}\n              disabled={cleaningData || loading || loadingUsers || loadingStats}\n              className=\"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg disabled:opacity-50\"\n              title={language === 'zh-CN' ? '清理过期数据' : 'Clean up expired data'}\n            >\n              <svg className={`w-5 h-5 ${cleaningData ? 'animate-spin' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n            </button>\n\n            {/* 刷新所有数据 */}\n            <button\n              onClick={() => {\n                loadStats();\n                loadInviteCodes();\n                loadUsers();\n              }}\n              disabled={loading || loadingUsers || loadingStats}\n              className=\"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors p-1.5 hover:bg-gray-200 dark:hover:bg-gray-700/50 rounded-lg disabled:opacity-50\"\n              title={language === 'zh-CN' ? '刷新所有数据' : 'Refresh all data'}\n            >\n              <svg className={`w-5 h-5 ${(loading || loadingUsers || loadingStats) ? 'animate-spin' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n              </svg>\n            </button>\n\n            {/* 主题切换 */}\n            <button\n              onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}\n              className=\"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors p-1.5 hover:bg-gray-200 dark:hover:bg-gray-700/50 rounded-lg\"\n              title={theme === 'light' ? t.nav.themeDark : t.nav.themeLight}\n            >\n              {theme === 'light' ? (\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\n                </svg>\n              ) : (\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\n                </svg>\n              )}\n            </button>\n\n            {/* 语言切换 */}\n            <button\n              onClick={() => setLanguage(language === 'zh-CN' ? 'en-US' : 'zh-CN')}\n              className=\"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors px-2 py-1.5 hover:bg-gray-200 dark:hover:bg-gray-700/50 rounded-lg text-sm font-medium\"\n              title={language === 'zh-CN' ? 'Switch to English' : '切换到中文'}\n            >\n              {language === 'zh-CN' ? 'EN' : '中'}\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {/* 主内容 */}\n      <div className=\"max-w-7xl mx-auto px-6 py-6\">\n        {/* 数据统计（4个横向卡片） */}\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n          {/* 总数统计 - 蓝色 */}\n          <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/20 border border-blue-200 dark:border-blue-700 rounded-xl p-4 h-[180px] flex flex-col\">\n            <h3 className=\"text-sm font-semibold text-blue-700 dark:text-blue-300 mb-3\">\n              {language === 'zh-CN' ? '总数统计' : 'Total'}\n            </h3>\n            {stats ? (\n              <div className=\"space-y-1 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '用户' : 'Users'}:</span>\n                  <span className=\"font-semibold text-blue-700 dark:text-blue-300\">{stats.total.users}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '笔记' : 'Notes'}:</span>\n                  <span className=\"font-semibold text-blue-700 dark:text-blue-300\">{stats.total.notes}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '密码' : 'Passwords'}:</span>\n                  <span className=\"font-semibold text-blue-700 dark:text-blue-300\">{stats.total.passwords}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '会话' : 'Sessions'}:</span>\n                  <span className=\"font-semibold text-blue-700 dark:text-blue-300\">{stats.total.sessions}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '邀请码' : 'Codes'}:</span>\n                  <span className=\"font-semibold text-blue-700 dark:text-blue-300\">{stats.total.invite_codes}</span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center text-gray-500 dark:text-gray-400 text-sm py-8\">\n                {loadingStats ? (language === 'zh-CN' ? '加载中...' : 'Loading...') : (language === 'zh-CN' ? '暂无数据' : 'No data')}\n              </div>\n            )}\n          </div>\n\n          {/* 有效数据 - 绿色 */}\n          <div className=\"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/20 border border-green-200 dark:border-green-700 rounded-xl p-4 h-[180px] flex flex-col\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-sm font-semibold text-green-700 dark:text-green-300\">\n                {language === 'zh-CN' ? '有效数据' : 'Active'}\n              </h3>\n            </div>\n            {stats ? (\n              <div className=\"space-y-1 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '在线会话' : 'Active Sessions'}:</span>\n                  <span className=\"font-semibold text-green-700 dark:text-green-300\">{stats.active.sessions}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '启用邀请码' : 'Active Codes'}:</span>\n                  <span className=\"font-semibold text-green-700 dark:text-green-300\">{stats.active.invite_codes}</span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center text-gray-500 dark:text-gray-400 text-sm py-8\">\n                {loadingStats ? (language === 'zh-CN' ? '加载中...' : 'Loading...') : (language === 'zh-CN' ? '暂无数据' : 'No data')}\n              </div>\n            )}\n          </div>\n\n          {/* 过期数据 - 红色 */}\n          <div className=\"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/20 border border-red-200 dark:border-red-700 rounded-xl p-4 h-[180px] flex flex-col\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-sm font-semibold text-red-700 dark:text-red-300\">\n                {language === 'zh-CN' ? '过期数据' : 'Expired'}\n              </h3>\n            </div>\n            {stats ? (\n              <div className=\"space-y-1 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '过期会话' : 'Expired Sessions'}:</span>\n                  <span className=\"font-semibold text-red-700 dark:text-red-300\">{stats.expired.sessions}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '过期邀请码' : 'Expired Codes'}:</span>\n                  <span className=\"font-semibold text-red-700 dark:text-red-300\">{stats.expired.invite_codes}</span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center text-gray-500 dark:text-gray-400 text-sm py-8\">\n                {loadingStats ? (language === 'zh-CN' ? '加载中...' : 'Loading...') : (language === 'zh-CN' ? '暂无数据' : 'No data')}\n              </div>\n            )}\n          </div>\n\n          {/* 已登出数据 - 橙色 */}\n          <div className=\"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/20 border border-orange-200 dark:border-orange-700 rounded-xl p-4 h-[180px] flex flex-col\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-sm font-semibold text-orange-700 dark:text-orange-300\">\n                {language === 'zh-CN' ? '已登出' : 'Inactive'}\n              </h3>\n            </div>\n            {stats ? (\n              <div className=\"space-y-1 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-400\">{language === 'zh-CN' ? '已登出会话' : 'Inactive Sessions'}:</span>\n                  <span className=\"font-semibold text-orange-700 dark:text-orange-300\">{stats.inactive.sessions}</span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center text-gray-500 dark:text-gray-400 text-sm py-8\">\n                {loadingStats ? (language === 'zh-CN' ? '加载中...' : 'Loading...') : (language === 'zh-CN' ? '暂无数据' : 'No data')}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* 存储占用统计卡片 */}\n        {stats?.storage && (\n          <div className=\"mb-6 bg-white dark:bg-gray-800 rounded-xl shadow border border-gray-200 dark:border-gray-700 p-4\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-base font-semibold text-gray-900 dark:text-white\">\n                {language === 'zh-CN' ? '存储占用' : 'Storage Usage'}\n              </h3>\n              <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${\n                stats.storage.status === 'critical'\n                  ? 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200'\n                  : stats.storage.status === 'warning'\n                  ? 'bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200'\n                  : 'bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200'\n              }`}>\n                {stats.storage.status === 'critical'\n                  ? (language === 'zh-CN' ? '接近上限' : 'Critical')\n                  : stats.storage.status === 'warning'\n                  ? (language === 'zh-CN' ? '注意' : 'Warning')\n                  : (language === 'zh-CN' ? '正常' : 'Normal')}\n              </span>\n            </div>\n\n            {/* 进度条 */}\n            <div className=\"relative w-full bg-gray-200 dark:bg-gray-700 rounded-full h-5 overflow-hidden\">\n              <div\n                className={`h-full transition-all duration-300 ${\n                  stats.storage.status === 'critical'\n                    ? 'bg-red-500 dark:bg-red-600'\n                    : stats.storage.status === 'warning'\n                    ? 'bg-yellow-500 dark:bg-yellow-600'\n                    : 'bg-green-500 dark:bg-green-600'\n                }`}\n                style={{ width: `${Math.min(stats.storage.usagePercent, 100)}%` }}\n              />\n              <div className=\"absolute inset-0 flex items-center justify-center text-xs font-medium text-gray-700 dark:text-gray-200 transition-colors\">\n                {stats.storage.actualUsageMB.toFixed(2)} MB / {stats.storage.limitMB} MB ({stats.storage.usagePercent.toFixed(2)}%)\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* 邀请码管理 + 用户列表（左右布局） */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* 邀请码管理（左侧） */}\n          <div className=\"h-[200px]\">\n        {/* 邀请码列表 */}\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col\">\n          {loading ? (\n            <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\n              {language === 'zh-CN' ? '加载中...' : 'Loading...'}\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto overflow-y-auto flex-1\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 sticky top-0 z-10\">\n                  <tr>\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '30%', minWidth: '120px' }}>\n                      <button\n                        onClick={() => {\n                          resetForm();\n                          generateCode();\n                          setShowDialog(true);\n                        }}\n                        className=\"text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors font-medium\"\n                        title={language === 'zh-CN' ? '点击创建新邀请码' : 'Click to create new code'}\n                      >\n                        {language === 'zh-CN' ? '邀请码' : 'Code'}\n                      </button>\n                    </th>\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '15%', minWidth: '80px' }}>\n                      {language === 'zh-CN' ? '使用' : 'Usage'}\n                    </th>\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '25%', minWidth: '120px' }}>\n                      {language === 'zh-CN' ? '过期时间' : 'Expires'}\n                    </th>\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '10%', minWidth: '80px' }}>\n                      {language === 'zh-CN' ? '状态' : 'Status'}\n                    </th>\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '20%', minWidth: '90px' }}>\n                      {language === 'zh-CN' ? '操作' : 'Actions'}\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\n                  {inviteCodes.length === 0 ? (\n                    <tr>\n                      <td colSpan={5} className=\"px-4 py-16 text-center text-sm text-gray-500 dark:text-gray-400\">\n                        {language === 'zh-CN' ? '暂无邀请码，点击\"邀请码\"列标题创建' : 'No invite codes. Click \"Code\" column header to create.'}\n                      </td>\n                    </tr>\n                  ) : (\n                    inviteCodes.map((code) => (\n                      <tr key={code.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\">\n                        <td className=\"px-4 py-2 text-center text-sm\">\n                          <button\n                            onClick={() => {\n                              navigator.clipboard.writeText(code.code);\n                              showToast(language === 'zh-CN' ? '✓ 邀请码已复制！' : '✓ Code copied!', { variant: 'success' });\n                            }}\n                            className=\"text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 transition-colors cursor-pointer\"\n                            title={language === 'zh-CN' ? '点击复制完整邀请码' : 'Click to copy full code'}\n                          >\n                            {code.code.substring(0, 8)}...{code.code.substring(code.code.length - 5)}\n                          </button>\n                        </td>\n                        <td className=\"px-4 py-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n                          {code.used_count} / {code.max_uses === -1 ? '∞' : code.max_uses}\n                        </td>\n                        <td className=\"px-4 py-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n                          {code.expires_at ? (\n                            <span className={isExpired(code.expires_at) ? 'text-red-500' : ''}>\n                              {formatDate(code.expires_at)}\n                              {isExpired(code.expires_at) && ' ⚠️'}\n                            </span>\n                          ) : (\n                            language === 'zh-CN' ? '永不' : 'Never'\n                          )}\n                        </td>\n                        <td className=\"px-4 py-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n                          <button\n                            onClick={() => handleToggleActive(code)}\n                            className=\"p-0.5 hover:bg-gray-100 dark:hover:bg-gray-700/50 rounded transition-colors\"\n                            title={code.is_active === 1\n                              ? (language === 'zh-CN' ? '点击禁用' : 'Click to disable')\n                              : (language === 'zh-CN' ? '点击启用' : 'Click to enable')}\n                          >\n                            {code.is_active === 1 ? (\n                              <svg className=\"w-4 h-4 text-green-600 dark:text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                              </svg>\n                            ) : (\n                              <svg className=\"w-4 h-4 text-gray-400 dark:text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                              </svg>\n                            )}\n                          </button>\n                        </td>\n                        <td className=\"px-4 py-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n                          {/* 删除按钮 */}\n                          <button\n                            onClick={() => handleDelete(code.id)}\n                            className=\"p-0.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors\"\n                            title={language === 'zh-CN' ? '删除' : 'Delete'}\n                          >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                            </svg>\n                          </button>\n                        </td>\n                      </tr>\n                    ))\n                  )}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n          </div>\n\n          {/* 用户列表（右侧） */}\n          <div className=\"h-[200px]\">\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col\">\n              {loadingUsers ? (\n                <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\n                  {t.admin.users.loading}\n                </div>\n              ) : users.length === 0 ? (\n                <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\n                  {t.admin.users.noUsers}\n                </div>\n              ) : (\n                <div className=\"overflow-x-auto overflow-y-auto flex-1\">\n                  <table className=\"w-full\">\n                  <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 sticky top-0 z-10\">\n                    <tr>\n                      <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '40%', minWidth: '150px' }}>\n                        {t.admin.users.email}\n                      </th>\n                      <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '10%', minWidth: '90px' }}>\n                        {t.admin.users.notesCount}\n                      </th>\n                      <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '10%', minWidth: '90px' }}>\n                        {t.admin.users.passwordsCount}\n                      </th>\n                      <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '10%', minWidth: '90px' }}>\n                        {t.admin.users.devicesCount}\n                      </th>\n                      <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider whitespace-nowrap\" style={{ width: '30%', minWidth: '120px' }}>\n                        {t.admin.users.createdAt}\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                    {users.map((listUser) => {\n                      const isCurrentUser = user?.email === listUser.email;\n                      return (\n                      <tr key={listUser.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\">\n                        <td className=\"px-4 py-2 text-center text-sm\">\n                          <button\n                            onClick={() => handleDeleteUser(listUser.id, listUser.email)}\n                            disabled={deletingUsers.has(listUser.id) || isCurrentUser}\n                            className={`transition-colors ${\n                              isCurrentUser\n                                ? 'text-gray-900 dark:text-gray-100 cursor-not-allowed'\n                                : deletingUsers.has(listUser.id)\n                                ? 'text-gray-400 dark:text-gray-600 cursor-wait'\n                                : 'text-gray-900 dark:text-gray-100 hover:text-red-600 dark:hover:text-red-400'\n                            }`}\n                            title={isCurrentUser\n                              ? (language === 'zh-CN' ? '无法删除自己' : 'Cannot delete yourself')\n                              : deletingUsers.has(listUser.id)\n                              ? (language === 'zh-CN' ? '删除中...' : 'Deleting...')\n                              : (language === 'zh-CN' ? '点击删除用户' : 'Click to delete user')}\n                          >\n                            {listUser.email}\n                          </button>\n                          {isCurrentUser && (\n                            <span className=\"ml-2 px-2 py-0.5 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded\">\n                              {language === 'zh-CN' ? '你' : 'You'}\n                            </span>\n                          )}\n                        </td>\n                        <td className=\"px-4 py-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n                          {listUser.notes_count}\n                        </td>\n                        <td className=\"px-4 py-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n                          {listUser.passwords_count}\n                        </td>\n                        <td className=\"px-4 py-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n                          {listUser.devices_count}\n                        </td>\n                        <td className=\"px-4 py-2 text-center text-sm text-gray-600 dark:text-gray-400\">\n                          {new Date(listUser.created_at).toLocaleDateString(language === 'zh-CN' ? 'zh-CN' : 'en-US')}\n                        </td>\n                      </tr>\n                    )})}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* 创建/编辑对话框 */}\n      {showDialog && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-md border border-gray-200 dark:border-gray-700 p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\n              {editingCode\n                ? (language === 'zh-CN' ? '编辑邀请码' : 'Edit Code')\n                : (language === 'zh-CN' ? '创建邀请码' : 'Create Code')}\n            </h3>\n\n            <div className=\"space-y-4\">\n              {/* 邀请码 */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  {language === 'zh-CN' ? '邀请码' : 'Code'}\n                </label>\n                <div className=\"flex gap-2\">\n                  <input\n                    type=\"text\"\n                    value={formData.code}\n                    onChange={(e) => setFormData({ ...formData, code: e.target.value.toUpperCase() })}\n                    disabled={!!editingCode}\n                    placeholder=\"XXXXXXXXXXXXXXXX\"\n                    className=\"flex-1 px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white font-mono disabled:opacity-50\"\n                  />\n                  {!editingCode && (\n                    <button\n                      onClick={generateCode}\n                      className=\"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-1\"\n                      title={language === 'zh-CN' ? '生成随机邀请码' : 'Generate random code'}\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                      </svg>\n                    </button>\n                  )}\n                </div>\n              </div>\n\n              {/* 最大使用次数（单选：0/1） */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  {language === 'zh-CN' ? '使用次数限制' : 'Usage Limit'}\n                </label>\n                <div className=\"flex gap-3\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      checked={formData.max_uses === 0}\n                      onChange={() => setFormData({ ...formData, max_uses: 0 })}\n                      className=\"mr-2\"\n                    />\n                    <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                      {language === 'zh-CN' ? '无限次' : 'Unlimited'}\n                    </span>\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      checked={formData.max_uses === 1}\n                      onChange={() => setFormData({ ...formData, max_uses: 1 })}\n                      className=\"mr-2\"\n                    />\n                    <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                      {language === 'zh-CN' ? '单次使用' : 'One-time'}\n                    </span>\n                  </label>\n                </div>\n              </div>\n\n              {/* 有效天数（仅创建时，单选：0/1） */}\n              {!editingCode && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    {language === 'zh-CN' ? '有效期' : 'Validity'}\n                  </label>\n                  <div className=\"flex gap-3\">\n                    <label className=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        checked={formData.expires_days === 0}\n                        onChange={() => setFormData({ ...formData, expires_days: 0 })}\n                        className=\"mr-2\"\n                      />\n                      <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                        {language === 'zh-CN' ? '永久有效' : 'Permanent'}\n                      </span>\n                    </label>\n                    <label className=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        checked={formData.expires_days === 1}\n                        onChange={() => setFormData({ ...formData, expires_days: 1 })}\n                        className=\"mr-2\"\n                      />\n                      <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                        {language === 'zh-CN' ? '1天后过期' : '1 day'}\n                      </span>\n                    </label>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* 按钮 */}\n            <div className=\"flex gap-3 mt-6\">\n              <button\n                onClick={() => {\n                  setShowDialog(false);\n                  resetForm();\n                }}\n                className=\"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\n              >\n                {language === 'zh-CN' ? '取消' : 'Cancel'}\n              </button>\n              <button\n                onClick={editingCode ? handleUpdate : handleCreate}\n                disabled={!formData.code}\n                className=\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\n              >\n                {editingCode ? (language === 'zh-CN' ? '更新' : 'Update') : (language === 'zh-CN' ? '创建' : 'Create')}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {ConfirmDialog}\n\n      {/* Toast 通知（右上角浮动） */}\n      {toast && <Toast message={toast.message} variant={toast.variant} onClose={hideToast} />}\n      </div>\n    </div>\n  );\n}\n"],"names":["AdminInviteCodesPage","navigate","useNavigate","token","user","useAuthStore","theme","setTheme","language","setLanguage","useSettingsStore","t","useTranslation","getResolvedTheme","isAdmin","setIsAdmin","useState","adminPassword","setAdminPassword","verifyError","setVerifyError","verifying","setVerifying","turnstileToken","setTurnstileToken","turnstileKey","setTurnstileKey","isLocked","setIsLocked","inviteCodes","setInviteCodes","loading","setLoading","toast","showToast","hideToast","useToast","showConfirm","ConfirmDialog","useConfirmDialog","users","setUsers","loadingUsers","setLoadingUsers","deletingUsers","setDeletingUsers","stats","setStats","loadingStats","setLoadingStats","cleaningData","setCleaningData","showDialog","setShowDialog","editingCode","setEditingCode","formData","setFormData","generateCode","chars","segments","i","segment","code","handleVerifyAdmin","api","response","error","loadInviteCodes","loadUsers","loadStats","_a","_b","prev","handleCleanup","handleDeleteUser","userId","userEmail","newSet","handleCreate","expires_at","resetForm","handleUpdate","handleDelete","id","handleToggleActive","formatDate","timestamp","isExpired","useEffect","jsxs","jsx","listUser","isCurrentUser","e","Toast","Turnstile"],"mappings":"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"}